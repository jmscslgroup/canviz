
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Strym &#8212; Strym 0.1.10 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/style.css" />
    <link rel="stylesheet" type="text/css" href="_static/animate.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/animate.css" />
    <link rel="stylesheet" type="text/css" href="_static/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="_static/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/venobox.css" />
    <link rel="stylesheet" type="text/css" href="_static/fontfamily.css" />
    <link rel="stylesheet" type="text/css" href="_static/ionicons.min.css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="stylesheet" href="_static/animate.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/animate.css" type="text/css" />
    <link rel="stylesheet" href="_static/font-awesome.css" type="text/css" />
    <link rel="stylesheet" href="_static/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/venobox.css" type="text/css" />
    <link rel="stylesheet" href="_static/fontfamily.css" type="text/css" />
    <link rel="stylesheet" href="_static/ionicons.min.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/wow.min.js"></script>
    <script src="_static/wow.js"></script>
    <script src="_static/hoverIntent.js"></script>
    <script src="_static/jquery.easing.min.js"></script>
    <script src="_static/jquery.min.js"></script>
    <script src="_static/superfish.min.js"></script>
    <script src="_static/validate.js"></script>
    <script src="_static/venobox.js"></script>
    <script src="_static/venobox.min.js"></script>
    <script src="_static/main.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/wow.min.js"></script>
    <script src="_static/wow.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick Start" href="quickstart.html" />
    <link rel="prev" title="Strym" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/favicon.png"></span>
          Strym</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.10</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Strym</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#philosophy-behind-strym">Philosophy behind Strym</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start-for-can-data-analysis-and-visualization">Quick Start for CAN Data Analysis and Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#detailed-examples-of-offline-analysis-and-visualization">Detailed Examples of Offline Analysis and Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#software-requirements">Software Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-requirements-for-can-logging">Hardware Requirements for CAN Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-instructions">Installation Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-for-real-time-visualization-of-can-messages-using-strym">Usage for Real-Time Visualization of CAN messages using Strym</a></li>
<li class="toctree-l2"><a class="reference internal" href="#issues">Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-to-this-project">Contributing to this project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#authors-and-contributors">Authors and Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#licensing">Licensing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="youtube.html">Video Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="youtube.html#installation-and-quick-start">1. Installation and Quick Start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_docs.html">Class <code class="code docutils literal notranslate"><span class="pre">strymread</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="api_docs.html#class-strymmap">Class <code class="code docutils literal notranslate"><span class="pre">strymmap</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="api_docs.html#class-phasespace">Class <code class="code docutils literal notranslate"><span class="pre">phasespace</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="api_docs.html#class-strym">Class <code class="code docutils literal notranslate"><span class="pre">strym</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="api_docs.html#class-dashbaord">Class <code class="code docutils literal notranslate"><span class="pre">dashbaord</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="api_docs.html#class-meta">Class <code class="code docutils literal notranslate"><span class="pre">meta</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="api_docs.html#functions">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#july-23">0.1.11 - 2020-July-23</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#july-01">0.1.10 - 2020-July-01</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#may-20">0.1.9 - 2020-May-20</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#may-16">0.1.8 - 2020-May-16</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#may-06">0.1.7 - 2020-May-06</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#apr-22">0.1.6 - 2020-Apr-22</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#apr-01">0.1.5 - 2020-Apr-01</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id1">0.1.4 - 2020-Apr-01</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id2">0.1.3 - 2020-Apr-01</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id3">0.1.2 - 2020-Apr-01</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#mar-30">0.1.1 - 2020-Mar-30</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id4">0.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#unreleased">unreleased</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Index <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Strym</a><ul>
<li><a class="reference internal" href="#philosophy-behind-strym">Philosophy behind Strym</a></li>
<li><a class="reference internal" href="#quick-start-for-can-data-analysis-and-visualization">Quick Start for CAN Data Analysis and Visualization</a></li>
<li><a class="reference internal" href="#detailed-examples-of-offline-analysis-and-visualization">Detailed Examples of Offline Analysis and Visualization</a></li>
<li><a class="reference internal" href="#software-requirements">Software Requirements</a><ul>
<li><a class="reference internal" href="#note-about-installation-on-raspberry-pi-for-can-data-logging">Note about installation on RASPBERRY PI for CAN Data Logging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hardware-requirements-for-can-logging">Hardware Requirements for CAN Logging</a></li>
<li><a class="reference internal" href="#installation-instructions">Installation Instructions</a><ul>
<li><a class="reference internal" href="#install-python">Install Python</a></li>
<li><a class="reference internal" href="#install-strym">Install strym</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usage-for-real-time-visualization-of-can-messages-using-strym">Usage for Real-Time Visualization of CAN messages using Strym</a></li>
<li><a class="reference internal" href="#issues">Issues</a></li>
<li><a class="reference internal" href="#contributing-to-this-project">Contributing to this project</a></li>
<li><a class="reference internal" href="#authors-and-contributors">Authors and Contributors</a></li>
<li><a class="reference internal" href="#licensing">Licensing</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: Strym"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Strym</span>
    </a>
  </li>
  <li>
    <a href="quickstart.html" title="Next Chapter: Quick Start"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Quick Start &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/readme.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="raw-html-m2r"><img src="https://raw.githubusercontent.com/jmscslgroup/strym/master/strym.png" alt="Strym Logo" align="center"/></span></p>
<div class="section" id="strym">
<h1>Strym<a class="headerlink" href="#strym" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://travis-ci.com/jmscslgroup/strym"><img alt="Build Status" src="https://travis-ci.com/jmscslgroup/strym.svg?branch=master" /></a>
<p><strong>A python package for real-time CAN data logging, analysis and visualization to work with USB-CAN Interface.</strong></p>
<p><strong>Strym</strong> is a python package that provides APIs to interface with COMMA.AI panda for logging CAN data, analysis and visualization in real-time from supported modern vehicles such Toyota RAV4 and Honda Pilot. There are two kinds of functionality that <strong>Strym</strong> provides:</p>
<ol class="arabic simple">
<li><p>Real-time visualization of CAN data through comma.ai Panda and Giraffe connector.</p></li>
<li><p>Offline analysis and visualization of CAN Data from a CSV Formatted file.</p></li>
</ol>
<div class="section" id="philosophy-behind-strym">
<h2>Philosophy behind Strym<a class="headerlink" href="#philosophy-behind-strym" title="Permalink to this headline">¶</a></h2>
<p>Strym data is capable of handling timeseries data obtained from Comma.ai Panda and Giraffe Connector.
Most functions and methods in <code class="docutils literal notranslate"><span class="pre">strym</span></code> expects timeseries data of following format</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Time</p></th>
<th class="head"><p>Message</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>1582056042.5040324</p></td>
<td><p>2.0</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>1582056043.5040324</p></td>
<td><p>2.1</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>1582056044.5040324</p></td>
<td><p>2.12</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>1582056045.5040324</p></td>
<td><p>1.98</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>1582056046.5040324</p></td>
<td><p>1.6</p></td>
</tr>
</tbody>
</table>
<p>Here, data should be of type Pandas.DataFrame with two columns: Time and Message.</p>
<p>However, scope of strym is not limited to timeseries data obtained from comma.ai Panda. Any timeseries data of above format is capable of harnessing methods available in <code class="docutils literal notranslate"><span class="pre">strym</span></code>.</p>
</div>
<div class="section" id="quick-start-for-can-data-analysis-and-visualization">
<h2>Quick Start for CAN Data Analysis and Visualization<a class="headerlink" href="#quick-start-for-can-data-analysis-and-visualization" title="Permalink to this headline">¶</a></h2>
<p>You can use <strong>Strym</strong> for quick visualization by importing <code class="docutils literal notranslate"><span class="pre">strymread</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">strym</span>
<span class="kn">from</span> <span class="nn">strym</span> <span class="kn">import</span> <span class="n">strymread</span>
<span class="kn">from</span> <span class="nn">strym</span> <span class="kn">import</span> <span class="n">ranalyze</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">rcParams</span>
<span class="kn">import</span> <span class="nn">strym.DBC_Read_Tools</span> <span class="k">as</span> <span class="nn">dbc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;figure.figsize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">})</span>
<span class="n">dbcfile</span> <span class="o">=</span> <span class="s1">&#39;/home/ivory/VersionControl/Jmscslgroup/strym/examples/newToyotacode.dbc&#39;</span>
<span class="n">r</span> <span class="o">=</span><span class="n">strymread</span><span class="p">(</span><span class="n">csvfile</span><span class="o">=</span><span class="s2">&quot;/home/ivory/CyverseData/JmscslgroupData/PandaData/2020_02_18/2020-02-18-13-00-42-209119__CAN_Messages.csv&quot;</span><span class="p">,</span> <span class="n">dbcfile</span><span class="o">=</span><span class="n">dbcfile</span><span class="p">)</span>

<span class="c1"># visualiza message counts</span>
<span class="n">r</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>
</div>
<p><span class="raw-html-m2r"><img src="https://raw.githubusercontent.com/jmscslgroup/strym/master/docs/source/count.png" alt="Count Histogram" align="center"/></span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot speed data</span>
<span class="n">speed</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">speed</span><span class="p">()</span>
<span class="n">strym</span><span class="o">.</span><span class="n">plt_ts</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Speed Plot&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><span class="raw-html-m2r"><img src="https://raw.githubusercontent.com/jmscslgroup/strym/master/docs/source/speed.png" alt="Speed" align="center"/></span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># get rate statistics of every by message ID</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">frequency</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># synchronize two timeseries messages</span>
<span class="n">ts_yaw_rate</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">yaw_rate</span><span class="p">()</span>
<span class="n">ts_speed</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">speed</span><span class="p">()</span>
<span class="c1">## integrate yaw rate to get the heading</span>
<span class="n">ts_yaw</span> <span class="o">=</span> <span class="n">strym</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">ts_yaw_rate</span>
<span class="n">interpolated_speed</span><span class="p">,</span> <span class="n">interpolated_yaw</span> <span class="o">=</span> <span class="n">strym</span><span class="o">.</span><span class="n">ts_sync</span><span class="p">(</span><span class="n">ts_speed</span><span class="p">,</span> <span class="n">ts_yaw</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">interpolated_speed</span><span class="p">[</span><span class="s1">&#39;Time&#39;</span><span class="p">],</span> <span class="n">interpolated_speed</span><span class="p">[</span><span class="s1">&#39;Message&#39;</span><span class="p">],</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts_speed</span><span class="p">[</span><span class="s1">&#39;Time&#39;</span><span class="p">],</span> <span class="n">ts_speed</span><span class="p">[</span><span class="s1">&#39;Message&#39;</span><span class="p">],</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Interpolated Speed (Km/h)&#39;</span><span class="p">,</span> <span class="s1">&#39;Original Speed (Km/h)&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (seconds)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Message&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">interpolated_yaw</span><span class="p">[</span><span class="s1">&#39;Time&#39;</span><span class="p">],</span> <span class="n">interpolated_yaw</span><span class="p">[</span><span class="s1">&#39;Message&#39;</span><span class="p">],</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts_yaw</span><span class="p">[</span><span class="s1">&#39;Time&#39;</span><span class="p">],</span> <span class="n">ts_yaw</span><span class="p">[</span><span class="s1">&#39;Message&#39;</span><span class="p">],</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Interpolated Yaw (degree/s)&#39;</span><span class="p">,</span> <span class="s1">&#39;Original Yaw (degree/s)&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time (seconds)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Message&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><span class="raw-html-m2r"><img src="https://raw.githubusercontent.com/jmscslgroup/strym/master/docs/source/speed_interpolated.png" alt="Interpolated Speed" align="center"/></span>
<span class="raw-html-m2r"><img src="https://raw.githubusercontent.com/jmscslgroup/strym/master/docs/source/yaw_interpolated.png" alt="Interpolated Yaw" align="center"/></span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the trajectory based on kinematic model, yaw rate and speed</span>
<span class="n">T</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">trajectory</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">],</span> <span class="n">T</span><span class="p">[</span><span class="s1">&#39;Y&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Interpolated Yaw (degree/s)&#39;</span><span class="p">,</span> <span class="s1">&#39;Original Yaw (degree/s)&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;X [m]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Y [m]&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><span class="raw-html-m2r"><img src="https://raw.githubusercontent.com/jmscslgroup/strym/master/docs/source/trajectory.png" alt="Trajectory" align="center"/></span></p>
</div>
<div class="section" id="detailed-examples-of-offline-analysis-and-visualization">
<h2>Detailed Examples of Offline Analysis and Visualization<a class="headerlink" href="#detailed-examples-of-offline-analysis-and-visualization" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://github.com/jmscslgroup/strym/blob/master/notebook/strymread_example.ipynb">Strymread Example 1</a></p></li>
<li><p><a class="reference external" href="https://github.com/jmscslgroup/strym/blob/master/notebook/CAN%20Data%20Analysis%20using%20strymread.ipynb">Strymread Example 2</a></p></li>
</ol>
</div>
<div class="section" id="software-requirements">
<h2>Software Requirements<a class="headerlink" href="#software-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Ubuntu 18.04 (not tested on any other version of Ubuntu, but might work)</p></li>
<li><p>Python 3.x</p></li>
</ul>
<div class="section" id="note-about-installation-on-raspberry-pi-for-can-data-logging">
<h3>Note about installation on RASPBERRY PI for CAN Data Logging<a class="headerlink" href="#note-about-installation-on-raspberry-pi-for-can-data-logging" title="Permalink to this headline">¶</a></h3>
<p>If you are going to install the package on RASPBERRY PI, I highly recommend installing Python 3.7 from the source as there is no Py3.7 release for Raspberry PI.
You will also need to install pre-compiled binaries for NumPy otherwise you may encounter huge inconvenience while building NumPy wheels for Raspberry PI.</p>
</div>
</div>
<div class="section" id="hardware-requirements-for-can-logging">
<h2>Hardware Requirements for CAN Logging<a class="headerlink" href="#hardware-requirements-for-can-logging" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>comma.ai CAN-USB <strong>Panda</strong> board.</p></li>
<li><p>comma.ai Giraffee Connector</p></li>
<li><p>A modern vehicle with CAN Bus available such as Toyota RAV4, Toyota CHR, etc.</p></li>
</ul>
</div>
<div class="section" id="installation-instructions">
<h2>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h2>
<a class="reference external image-reference" href="https://www.youtube.com/watch?v=w2p1uYmHBPA&amp;t=5s"><img alt="Install Instruction" src="https://img.youtube.com/vi/w2p1uYmHBPA/0.jpg" /></a>
<div class="section" id="install-python">
<h3>Install Python<a class="headerlink" href="#install-python" title="Permalink to this headline">¶</a></h3>
<p>Install Python 3, either through anaconda or using the Ubuntu package manager. Alternatively, you can also build Python 3.7 from source as explained below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get update -y
sudo apt-get install build-essential tk-dev libncurses5-dev libncursesw5-dev libreadline6-dev libdb5.3-dev libgdbm-dev libsqlite3-dev libssl-dev libbz2-dev libexpat1-dev liblzma-dev zlib1g-dev libffi-dev -y

wget https://www.python.org/ftp/python/3.7.2/Python-3.7.2.tar.xz
tar xf Python-3.7.2.tar.xz
<span class="nb">cd</span> Python-3.7.2
./configure
make -j <span class="m">4</span>
sudo make altinstall
</pre></div>
</div>
<p>I recommend using python’s virtual environment for python package installation. For the sake of following instructions, let’s assume that you are using the <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>  package to create a python virtual environment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install virtualenv
</pre></div>
</div>
<p>First, create a directory where your virtual environment folder will reside.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir ~/VirtualEnv
</pre></div>
</div>
<p>Now, we will create a python virtual environment using python3.7. Let’s name the virtual environment <em>stream</em>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~/VirtualEnv
virtualenv --python<span class="o">=</span>python3.7 stream
</pre></div>
</div>
<p>Activate the virtual environment by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> ~/VirtualEnv/stream/bin/activate
</pre></div>
</div>
</div>
<div class="section" id="install-strym">
<h3>Install strym<a class="headerlink" href="#install-strym" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">strym</span></code></p>
<p>This will install the strym package in your <code class="docutils literal notranslate"><span class="pre">stream</span></code> virtual environment.</p>
<p>Now you are ready to use <strong>Strym</strong>.</p>
</div>
</div>
<div class="section" id="usage-for-real-time-visualization-of-can-messages-using-strym">
<h2>Usage for Real-Time Visualization of CAN messages using Strym<a class="headerlink" href="#usage-for-real-time-visualization-of-can-messages-using-strym" title="Permalink to this headline">¶</a></h2>
<p>Plug your Comma AI Panda device using Giraffe Connector to your CAR’s OBD port for data logging and streaming. Insert one end of the USB to Panda Device and another end to your laptop.</p>
<p>In python, you will be required to create an object of type <code class="docutils literal notranslate"><span class="pre">Strym</span></code>:</p>
<p>See <code class="docutils literal notranslate"><span class="pre">strym_impl.py</span></code> for one such usage example in the <a class="reference external" href="https://github.com/jmscslgroup/strym/blob/master/examples">example folder</a>, however, I am provided details of an example below:</p>
<p>Create a new file. I will use the gedit to create a new file. You will be required to pass a path of the CAN Database DBC file to <code class="docutils literal notranslate"><span class="pre">strym</span></code> while instantiating its object. Once you have a <code class="docutils literal notranslate"><span class="pre">strym</span></code> object, you can call its <code class="docutils literal notranslate"><span class="pre">isoviz()</span></code> function. <code class="docutils literal notranslate"><span class="pre">isoviz()</span></code> function takes two arguments: i) the message type that you want to visualize, e.g. SPEED ii) attribute number to plot specific signal of the desired message type. <code class="docutils literal notranslate"><span class="pre">isoviz()</span></code> function will simultaneously capture CAN message in a CSV file and also plot the desired message’s signal. To terminate, press CTRL-C. Upon pressing CTRL-C, a SIGINT signal handler will be called that will terminate the logging of CAN messages and also save a matplotlib figure of the desired message’s signal in pdf and pickle format.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gedit viz_example.py
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">strym</span> <span class="kn">import</span> <span class="n">strym</span>
<span class="kn">import</span> <span class="nn">cantools</span>
<span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">math</span><span class="o">,</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">signal</span>

<span class="n">db</span> <span class="o">=</span> <span class="s1">&#39;./newToyotacode.dbc&#39;</span>

<span class="n">Viz</span> <span class="o">=</span> <span class="n">strym</span><span class="p">(</span><span class="n">dbcfile</span> <span class="o">=</span> <span class="n">db</span><span class="p">)</span>

<span class="n">message_type_to_visualize</span> <span class="o">=</span> <span class="s1">&#39;SPEED&#39;</span>
<span class="n">message_attribute_number_to_visualize</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">visualize</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;log&quot;</span><span class="p">:</span> <span class="s2">&quot;info&quot;</span> <span class="p">}</span>
<span class="n">Viz</span><span class="o">.</span><span class="n">isolog</span><span class="p">(</span><span class="n">visualize</span><span class="p">,</span> <span class="n">message_type_to_visualize</span><span class="p">,</span> <span class="n">message_attribute_number_to_visualize</span><span class="p">,</span>  <span class="o">**</span><span class="n">options</span><span class="p">)</span>

<span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGINT</span><span class="p">,</span> <span class="n">Viz</span><span class="o">.</span><span class="n">kill</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Datafile saved is </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Viz</span><span class="o">.</span><span class="n">logfile</span><span class="p">))</span>
</pre></div>
</div>
<p>You will need a DBC file to parse can messages. Download an example DBC file <a class="reference external" href="https://github.com/jmscslgroup/strym/blob/master/examples/newToyotacode.dbc">here</a></p>
<p>To run the above program:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span> ~/VirtualEnv/stream/bin/activate
python viz_example.py<span class="sb">`</span>
</pre></div>
</div>
<p>If you are done, press CTRL-C.</p>
</div>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h2>
<p>If you run into any issues, please use the issue feature of GitHub to log your issues. I will try my best to address any issue as soon as
possible.</p>
<p>For an issue related to installation/use on windows, please see following filed issues:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://github.com/jmscslgroup/strym/issues/8">Issue #8: OSError: [WinError 126]</a></p></li>
</ol>
</div>
<div class="section" id="contributing-to-this-project">
<h2>Contributing to this project<a class="headerlink" href="#contributing-to-this-project" title="Permalink to this headline">¶</a></h2>
<p>If you like to contribute to this project, please fork this repository to your GitHub account, create a new branch for yourself and send a pull request for the merge. After reviewing the changes, we will decide if this is a good place to add your changes.</p>
</div>
<div class="section" id="authors-and-contributors">
<h2>Authors and Contributors<a class="headerlink" href="#authors-and-contributors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Rahul Bhadani ( <a class="reference external" href="mailto:rahulbhadani&#37;&#52;&#48;email&#46;arizona&#46;edu">rahulbhadani<span>&#64;</span>email<span>&#46;</span>arizona<span>&#46;</span>edu</a>)</p></li>
<li><p>Jonathan Sprinkle (<a class="reference external" href="mailto:sprinkjm&#37;&#52;&#48;email&#46;arizona&#46;edu">sprinkjm<span>&#64;</span>email<span>&#46;</span>arizona<span>&#46;</span>edu</a>)</p></li>
<li><p>Gustavo Lee (<a class="reference external" href="mailto:gustavolee&#37;&#52;&#48;email&#46;arizona&#46;edu">gustavolee<span>&#64;</span>email<span>&#46;</span>arizona<span>&#46;</span>edu</a>)</p></li>
<li><p>Matthew Nice (<a class="reference external" href="mailto:matthew&#46;nice&#37;&#52;&#48;vanderbilt&#46;edu">matthew<span>&#46;</span>nice<span>&#64;</span>vanderbilt<span>&#46;</span>edu</a>)</p></li>
<li><p>George Gunter (<a class="reference external" href="mailto:gunter&#46;gl&#37;&#52;&#48;gmail&#46;com">gunter<span>&#46;</span>gl<span>&#64;</span>gmail<span>&#46;</span>com</a>)</p></li>
<li><p>Safwan Elmadani (<a class="reference external" href="mailto:safwanelmadani&#37;&#52;&#48;email&#46;arizona&#46;edu">safwanelmadani<span>&#64;</span>email<span>&#46;</span>arizona<span>&#46;</span>edu</a>)</p></li>
</ul>
</div>
<div class="section" id="licensing">
<h2>Licensing<a class="headerlink" href="#licensing" title="Permalink to this headline">¶</a></h2>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>License: MIT License
Copyright 2019-2020 Rahul Bhadani, Jonathan Sprinkle, Arizona Board of Regents
Initial Date: Nov 12, 2019
Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files
(the &quot;Software&quot;), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject
to the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF
ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT
SHALL THE AUTHORS, COPYRIGHT HOLDERS OR ARIZONA BOARD OF REGENTS
BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN
AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE
OR OTHER DEALINGS IN THE SOFTWARE.
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
  <!--h5>Page customatization by Rahul Bhadani.</h5-->
  
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Rahul Bhadani.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>

  </body>
</html>